define("theme_vorsprung/copy2clipboard",["exports","jquery","theme_boost_vorsprung/bootstrap/tooltip","theme_vorsprung/external/clipboard"],(function(_exports,_jquery,_tooltip,_clipboard){function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj}}Object.defineProperty(_exports,"__esModule",{value:!0}),_exports.init=void 0,_jquery=_interopRequireDefault(_jquery),_clipboard=_interopRequireDefault(_clipboard);_exports.init=function(){(0,_jquery.default)((function(){(0,_jquery.default)("a.copytocb[data-toggle='popover'],a.copytocb[data-toggle='collapse']").each((function(){(0,_jquery.default)(this).after('<i class="fa fa-clipboard cb-tooltip pl-1" aria-hidden="true" title="Copy to clipboard"></i>')})),(0,_jquery.default)(".copytocb:not([data-toggle])").each((function(){var btnHtml=(0,_jquery.default)('<i class="fa fa-clipboard cb-tooltip" aria-hidden="true" title="Copy to clipboard"></i>');"IMG"===(0,_jquery.default)(this).prop("tagName")?(btnHtml.addClass("pt-2 d-block"),(0,_jquery.default)(this).after(btnHtml)):(btnHtml.addClass("pl-1 btn-copytocb"),(0,_jquery.default)(this).append(btnHtml))})),(0,_jquery.default)(".cb-tooltip").tooltip().on("mouseleave",(function(){(0,_jquery.default)(this).tooltip("hide")}));var clipboard=new _clipboard.default(".fa-clipboard",{text:function(trigger){var self,t="",pre=null,target=(0,_jquery.default)(trigger).data("copy-target");if(void 0!==target&&void 0!==(target=(0,_jquery.default)("#"+target)))return _jquery.default.trim(target.text());if(void 0!==(target=(0,_jquery.default)(trigger).prev().attr("href"))&&(t=(pre=(0,_jquery.default)(target+"> pre:first")).get(0)?function(){var pre=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null,t="Target to copy not found";if(null===pre)return t;var elem=pre.parent(".collapse"),isCollapsed=!1;elem.get(0)?(elem.hasClass("show")||(elem.addClass("show"),isCollapsed=!0),t=_jquery.default.trim(pre.text()),isCollapsed&&elem.hasClass("show")&&elem.removeClass("show")):t=_jquery.default.trim(pre.text());return _jquery.default.trim(t)}(pre):_jquery.default.trim((0,_jquery.default)(target).text()),""!==t))return t;if(void 0!==(t=(0,_jquery.default)(trigger).prev().attr("data-content"))&&""!==t)return t;if((self="IMG"===(0,_jquery.default)(trigger).prev().prop("tagName")?(0,_jquery.default)(trigger).prev():(0,_jquery.default)(trigger).parent()).get(0)){var $cloned=self.clone().find("i.btn-copytocb").remove().end().removeClass("copytocb").filter('[class=""]').removeAttr("class");if("IMG"===$cloned.prop("tagName")){var src=$cloned.attr("src");$cloned.attr("src",function(){var url=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"",xhr=_jquery.default.ajax({url:url,async:!1});return url+"?v="+Date.parse(xhr.getResponseHeader("Last-Modified"))/1e3}(src))}if(""!==(t=$cloned.prop("outerHTML")))return t}return"Target to copy not found"}});clipboard.on("success",(function(e){(0,_jquery.default)(e.trigger).attr("title","Copied!").tooltip("_fixTitle").tooltip("show").attr("title","Copy to clipboard").tooltip("_fixTitle"),e.clearSelection()})),clipboard.on("error",(function(e){var fallbackMsg="Press "+(/mac/i.test(navigator.userAgent)?"âŒ˜":"Ctrl-")+"C to copy";(0,_jquery.default)(e.trigger).attr("title",fallbackMsg).tooltip("_fixTitle").tooltip("show").attr("title","Copy to clipboard").tooltip("_fixTitle")}))}))}}));

//# sourceMappingURL=copy2clipboard.min.js.map